/**
 * A simple jQuery plugin for creating animated drilldown menus.
 *
 * @name jQuery Drilldown
 * @version 1.0.0
 * @requires jQuery v1.7+
 * @author Aleksandras Nelkinas
 * @license [MIT]{@link http://opensource.org/licenses/mit-license.php}
 *
 * Copyright (c) 2015 Aleksandras Nelkinas
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,s){"use strict";var i="drilldown",e={event:"click",selector:"a",speed:100,cssClass:{container:i+"-container",root:i+"-root",sub:i+"-sub",back:i+"-back"}},n=function(){function s(s,o){var h=this;this._name=i,this._defaults=e,this.element=s,this.$element=t(s),this.options=t.extend({},e,o),this._history=[],this._css={"float":"left",width:null},this.$container=this.$element.find("."+this.options.cssClass.container),this.$element.on(this.options.event+"."+i,this.options.selector,function(s){n.call(h,s,t(this))})}function n(t,s){var i=s.nextAll("."+this.options.cssClass.sub),e=!0;i.length?o.call(this,i):s.closest("."+this.options.cssClass.back).length?h.call(this):e=!1,e&&"A"===s.prop("tagName")&&t.preventDefault()}function o(t){t.length&&(this._css.width=this.$element.outerWidth(),this.$container.width(2*this._css.width),t.parent().attr("data-next-parent",!0),t=t.removeClass(this.options.cssClass.sub).addClass(this.options.cssClass.root),this.$container.append(t),a.call(this,-1*this._css.width,function(){var s=t.prev();this._history.push(s.detach()),r.call(this,t)}.bind(this)))}function h(){var t=this._history.pop();this._css.width=this.$element.outerWidth(),this.$container.width(2*this._css.width),this.$container.prepend(t),a.call(this,0,function(){var s=t.next();s.addClass(this.options.cssClass.sub).removeClass(this.options.cssClass.root),this.$container.find("[data-next-parent]").last().removeAttr("data-next-parent").append(s),r.call(this,t)}.bind(this))}function a(t,s){var i=this.$container.children("."+this.options.cssClass.root);i.css(this._css),i.first().animate({marginLeft:t},this.options.speed,s)}function r(t){t.css({"float":"",width:"",marginLeft:""}),this.$container.css("width","")}return s.prototype={destroy:function(){this.reset(),this.$element.off(this.options.event+"."+i,this.options.selector)},reset:function(){var t;this._history.length&&(t=this._history[0],this.$container.empty().append(t),r.call(this,t)),this._history=[],this._css={"float":"left",width:null}}},s}();t.fn[i]=function(s){return this.each(function(){var e=t.data(this,i),o=s;e?"string"==typeof o&&("destroy"===o&&t.removeData(this,i),"function"==typeof e[o]&&e[o]()):t.data(this,i,new n(this,s))})}});